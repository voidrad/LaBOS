#include <pthread.h>
#include <stdio.h>
#include <stdlib.h>
#include <time.h>

#define max 1000
  

  

int a[max] = {3072, 1106, 409, 2, 573, 917, 3105, 596, 4884, 4193, 2733, 3757, 2716, 2614, 4594, 3102, 1257, 1052, 4915, 4486, 3115, 3032, 1451, 4311, 4240, 2402, 2846, 2647, 1404, 2803, 3765, 3261, 2972, 4167, 3331, 1215, 1037, 552, 516, 2401, 1806, 1876, 4279, 2759, 219, 820, 3395, 3961, 472, 670, 2486, 1106, 2633, 2792, 803, 63, 1706, 1986, 2341, 4053, 3964, 1687, 3639, 2377, 4436, 636, 4716, 1782, 4818, 4067, 1516, 3825, 3207, 4187, 4965, 2376, 4598, 3955, 266, 4196, 1481, 1753, 4428, 4700, 597, 2241, 2983, 4882, 3852, 3526, 450, 1143, 3255, 1835, 1608, 2804, 3873, 2660, 46, 1409, 3512, 2467, 1721, 1298, 4024, 3721, 4080, 790, 2326, 1827, 417, 1307, 1131, 3980, 660, 1849, 4279, 3336, 3664, 4456, 2141, 447, 2976, 2521, 716, 696, 3617, 3094, 3652, 1132, 2050, 3707, 3416, 2193, 4134, 1488, 550, 3373, 2843, 3612, 4425, 952, 4970, 2714, 1700, 287, 3131, 2500, 2711, 620, 3072, 343, 1244, 2930, 4211, 1448, 3669, 1335, 3561, 3531, 3107, 559, 829, 725, 1689, 4276, 2572, 4377, 4757, 3059, 4521, 4396, 3991, 2139, 1912, 3110, 4452, 853, 2659, 848, 1668, 979, 4925, 3588, 3947, 3751, 1958, 1408, 1985, 1509, 3483, 4593, 4004, 1159, 36, 1647, 2351, 3552, 4882, 3366, 3972, 3997, 1156, 1450, 876, 1105, 2815, 241, 1270, 3139, 1898, 1104, 3797, 4830, 3822, 1054, 132, 3623, 3845, 2309, 2342, 4884, 171, 3023, 1307, 2929, 2354, 217, 1043, 1801, 445, 1545, 916, 193, 4691, 2936, 1439, 3374, 1214, 538, 4221, 4522, 3979, 4925, 1695, 4402, 4845, 1744, 1203, 852, 4466, 1396, 18, 2863, 2900, 4926, 2249, 1125, 1149, 1664, 164, 3538, 3945, 1056, 386, 2680, 1398, 4511, 1592, 945, 3059, 4091, 4702, 3371, 4653, 1827, 4581, 579, 3266, 3711, 558, 123, 564, 865, 3354, 2774, 3232, 2929, 3383, 3540, 1096, 455, 2050, 2616, 1098, 4150, 3006, 4344, 1746, 2202, 3685, 3226, 1783, 2640, 20, 4122, 3186, 4416, 1192, 2604, 558, 859, 4660, 4968, 3411, 4585, 1211, 3306, 2034, 2809, 845, 2344, 2004, 3420, 1474, 2997, 2182, 3200, 3756, 4892, 514, 4036, 1978, 1670, 941, 710, 1949, 2182, 3095, 4367, 2882, 3650, 2160, 3338, 2400, 3341, 3140, 1078, 885, 3833, 3323, 4190, 2898, 3357, 589, 425, 1586, 4206, 1933, 1039, 4458, 233, 4479, 2710, 4646, 4697, 3740, 2808, 1588, 4027, 710, 2867, 190, 4632, 2731, 1704, 1762, 4325, 1543, 2744, 383, 1415, 1692, 3412, 2706, 4041, 2769, 2591, 2907, 2009, 2791, 3186, 3617, 3221, 544, 1312, 2715, 55, 2502, 2516, 1213, 2411, 1387, 2058, 4456, 435, 4899, 753, 2012, 3103, 2028, 568, 263, 4647, 2141, 1981, 3936, 4156, 4424, 2715, 3540, 2377, 565, 2454, 4695, 1032, 3430, 3534, 4358, 3929, 683, 4942, 799, 3177, 4194, 2143, 845, 2026, 2516, 1002, 52, 443, 3900, 2475, 3331, 2936, 4098, 1783, 1990, 890, 409, 1317, 1656, 4051, 3546, 1426, 937, 865, 170, 1395, 2444, 4381, 108, 1909, 1618, 2661, 3400, 2824, 3687, 1058, 1309, 2354, 1077, 666, 152, 1398, 3252, 2946, 1605, 1610, 4167, 4041, 4878, 2343, 2774, 1176, 1033, 4800, 4436, 2445, 4572, 1507, 1708, 2829, 3989, 22, 2497, 95, 1930, 700, 4284, 2346, 669, 3733, 3644, 4352, 1792, 4522, 3940, 1058, 1917, 1294, 3638, 81, 4037, 4335, 4402, 664, 2097, 2059, 881, 4589, 4923, 403, 880, 4474, 1916, 3433, 1709, 1989, 2667, 1131, 47, 629, 2894, 3069, 55, 2003, 3204, 1834, 461, 2194, 82, 838, 4066, 29, 761, 1249, 4585, 533, 1409, 3199, 1091, 4909, 2707, 916, 3277, 3647, 246, 1748, 2210, 2308, 2150, 683, 1349, 1578, 4183, 3524, 4126, 3141, 4888, 2082, 948, 5, 611, 3465, 3202, 1722, 612, 377, 3028, 2037, 793, 3843, 3203, 267, 1549, 839, 2868, 1670, 3487, 3621, 1464, 1847, 3516, 968, 2926, 1567, 4960, 2766, 3810, 770, 3173, 4676, 4652, 4222, 2772, 1020, 3325, 1191, 1179, 517, 2121, 2063, 3494, 2573, 258, 1477, 2656, 4114, 1987, 4541, 4225, 2301, 1728, 2667, 3408, 406, 524, 4520, 2264, 944, 1939, 1871, 227, 1707, 3871, 4643, 3351, 1201, 4380, 2192, 4568, 2991, 4232, 1590, 1984, 4358, 581, 4644, 3119, 4394, 369, 2673, 2112, 1981, 2952, 2194, 2807, 1259, 4568, 809, 3550, 911, 4532, 976, 1725, 920, 2692, 1724, 839, 3492, 2292, 3788, 3935, 4718, 2063, 4626, 1459, 2152, 2168, 1383, 1506, 4820, 4995, 3043, 4283, 1625, 239, 872, 121, 4603, 2194, 3243, 292, 2047, 241, 1260, 2351, 893, 984, 933, 3668, 1291, 2147, 1773, 7, 757, 4587, 505, 4651, 4186, 4551, 3102, 3505, 2556, 1669, 927, 4767, 3726, 3791, 4488, 1074, 4039, 1842, 4520, 1237, 3288, 2913, 4337, 1701, 2483, 1341, 3987, 104, 2749, 31, 312, 2351, 2889, 1058, 859, 4729, 1686, 459, 1266, 2037, 4183, 4082, 506, 4718, 3031, 3710, 3536, 4198, 2239, 3832, 3754, 3283, 535, 4197, 2028, 1042, 2808, 1985, 1931, 2054, 2395, 1740, 4418, 1802, 613, 1822, 4270, 182, 3498, 1941, 2610, 4163, 1066, 3956, 4256, 669, 4714, 3475, 1701, 3319, 4359, 3307, 2594, 12, 2682, 2587, 3709, 3408, 4508, 2699, 1182, 2988, 4255, 685, 109, 1925, 4012, 4494, 511, 4983, 303, 232, 4077, 3475, 3110, 1862, 3579, 438, 243, 1400, 897, 2551, 1080, 2673, 3553, 4313, 3950, 2822, 1887, 839, 3445, 1254, 886, 626, 3942, 4979, 1674, 3664, 4863, 365, 1826, 2124, 384, 2031, 33, 2636, 1613, 162, 3085, 2642, 2724, 1410, 1815, 3882, 1226, 4081, 3692, 2546, 4106, 124, 1885, 4191, 1934, 4786, 4872, 586, 76, 309, 1335, 1970, 3053, 3298, 994, 2719, 838, 1317, 4850, 2984, 2368, 1071, 1197, 3778, 931, 4746, 3910, 2740, 625, 653, 2563, 1202, 4453, 3027, 1331, 185, 4017, 1918, 1084, 4658, 2299, 4565, 3013, 4308, 1072, 2276, 3045, 1728, 3622, 3090, 753, 863, 40, 2367, 4005, 1922, 3848, 3020, 627, 372, 4902, 608, 2564, 4658, 3599, 83, 3301, 2426, 4806, 3369, 1270, 4763, 925, 2627, 3130, 3383, 3589, 1768, 2188, 3588, 2176, 4685, 746, 3400, 1815, 1368, 1566, 1906, 538, 1707, 3739, 66, 1219, 352, 2248, 4075, 165, 2299, 3590, 1901, 1253, 910, 3009, 1184, 4509, 1266, 4660, 2371, 1143, 2029, 3071, 2501, 621, 4359, 279, 3333, 56, 2834, 1278, 1021, 3365, 1033, 3106, 2434, 1839, 4836, 3902, 3428, 3278, 3577, 4557, 2883, 2771, 4013, 2769, 2072, 4400, 4706, 4464, 3923, 509, 4770, 3552, 2657, 3142};
int thread_no = 0;


int *min_num;  
int Threads;


void minimum(void* arg)
{
    int i, num = thread_no++;
    int mins = 10000;
  
    for (i = num * ( max / Threads); i < (num + 1) * ( max / Threads); i++) {
        if (a[i] < mins)
            mins = a[i];
    }
  
    min_num[num] = mins;
}
  

int main(int argc, char** argv)
{
long double start, end;


    for (int i = 0; argv[1][i] > 0; ++i) {
        if (argv[1][i] >= '0' && argv[1][i] <= '9') {
            Threads = Threads * 10 + argv[1][i] - '0';
        }}


        min_num = (int*)malloc(Threads * sizeof(int));


    printf("Threads   : %d   \n" ,  Threads);

    int mins = 100000;
    int i;
    pthread_t threads[Threads];
  

    for (i = 0; i < Threads; i++)
        pthread_create(&threads[i], NULL, minimum, NULL);
  
start = clock();

    for (i = 0; i < Threads; i++)
        pthread_join(threads[i], NULL);
  

    for (i = 0; i < Threads; i++) {
        if (min_num[i] < mins)
            mins = min_num[i];
    }
    end = clock();
    printf("minimum Element is : %d  \n", mins);
    printf("Execution time %Lf ms \n", (end - start) / 1000.0);
    free(min_num);
    return 0;
}